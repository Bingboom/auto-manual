% ==================================================
% layout.tex
% L4 PAGE LAYOUT LAYER
% 只负责页面结构，不负责类型系统
% ==================================================

\usepackage{geometry}
\usepackage{fancyhdr}

% ==================================================
% PAGE GEOMETRY
% ==================================================

\geometry{
  paperwidth=\csname HBpage_paperwidth\endcsname,
  paperheight=\csname HBpage_paperheight\endcsname,
  left=\csname HBpage_margin_left\endcsname,
  right=\csname HBpage_margin_right\endcsname,
  top=\csname HBpage_margin_top\endcsname,
  bottom=\csname HBpage_margin_bottom\endcsname
}

% ==================================================
% FOOTER LAYOUT BLOCK
% ==================================================

\newcommand{\HBPageFooterLayout}{%
  \fancyhf{}%
  \renewcommand{\headrulewidth}{\csname HBpage_headrulewidth\endcsname}%
  \renewcommand{\footrulewidth}{\csname HBpage_footrulewidth\endcsname}%
  \fancyfoot[L]{%
    \raisebox{\csname HBpage_footer_raise\endcsname}{%
      \HBTypeFooter{\HBTypePageNumber}%
    }%
  }%
}

\fancypagestyle{normal}{\HBPageFooterLayout}
\fancypagestyle{plain}{\HBPageFooterLayout}

\pagestyle{normal}

% ==================================================
% GLOBAL PARAGRAPH SPACING
% ==================================================

\setlength{\parindent}{\csname HBpage_parindent\endcsname}
\setlength{\parskip}{\csname HBpage_parskip\endcsname}
